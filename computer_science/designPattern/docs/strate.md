# strate pattern
> ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ì´ í´ë˜ìŠ¤ë³„ë¡œ ìº¡ìŠí™”ë˜ì–´ ìˆê³  ì´ë“¤ì´ í•„ìš”í•  ë•Œ êµì²´í•  ìˆ˜ ìˆë„ë¡ í•¨ìœ¼ë¡œì¨ ë™ì¼í•œ ë¬¸ì œë¥¼ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ë””ìì¸ íŒ¨í„´

```
ì „ëµ
ì–´ë–¤ ëª©ì ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ì¼ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹, ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™, ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜
ex) ê²Œì„ í”„ë¡œê·¸ë˜ë°ì—ì„œ ê²Œì„ ìºë¦­í„°ê°€ ìì‹ ì´ ì²˜í•œ ìƒí™©ì— ë”°ë¼ ê³µê²©ì´ë‚˜ í–‰ë™í•˜ëŠ” ë°©ì‹ì„ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ
```


## ğŸ™Œ ìš”ì•½
> ë™ì¼í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì—¬ëŸ¬ ì•Œê³ ë¦¬ì¦˜ ì¤‘ì—ì„œ í•„ìš”ì— ë”°ë¼ ì í•©í•œ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” íŒ¨í„´ì…ë‹ˆë‹¤.
- ì¥ì : ì•Œê³ ë¦¬ì¦˜ì„ ììœ ë¡­ê²Œ ë°”ê¿€ ìˆ˜ ìˆê³ , ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì„ ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë‹¨ì : ì½”ë“œê°€ ê¸¸ì–´ì§€ê±°ë‚˜ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆê³ , ì•Œê³ ë¦¬ì¦˜ ê°„ì— í†µì‹  ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



### ğŸ‘ ì™œ ì‚¬ìš©í•˜ëŠ”ê°€?
> í”„ë¡œê·¸ë¨ì˜ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì„ ë†’íˆê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤. ë‹¤ë§Œ, ì½”ë“œê°€ ê¸¸ì–´ì§€ê³  í†µì‹ ë¹„ìš©ì´ ì¶”ê°€ë¡œ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- í”„ë¡œê·¸ë¨ì˜ ìœ ì—°ì„±ê³¼ í™•ì¥ì„±ì„ ë†’ì´ê¸° ìœ„í•´ì„œ
- ì•Œê³ ë¦¬ì¦˜ì˜ ë³€ê²½ì´ë‚˜ ì¶”ê°€ì— ëŒ€ì‘í•˜ê¸° ì‰½ê²Œ í•˜ê¸° ìœ„í•´ì„œ
- ë‹¤ì¤‘ ìƒì†ì˜ ë¬¸ì œì ì„ í”¼í•˜ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ì„ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ


### ğŸ‘€ ì–¸ì œ ë§ì´ ì‚¬ìš©í•˜ëŠ”ê°€?

- í”„ë¡œê·¸ë¨ì—ì„œ ë‹¬ë¼ì§€ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ë‚´ê³ , ë‹¬ë¼ì§€ì§€ ì•ŠëŠ” ë¶€ë¶„ê³¼ ë¶„ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ
- íŠ¹ì •í•œ ê³„ì—´ì˜ ì•Œê³ ë¦¬ì¦˜ë“¤ì„ ì •ì˜í•˜ê³  ê° ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ê³  ì‹¶ì„ ë•Œ
- ê°ì²´ì˜ í–‰ìœ„ë¥¼ ë™ì ìœ¼ë¡œ ë°”ê¾¸ê³  ì‹¶ì„ ë•Œ
- ë‹¤ì¤‘ ìƒì†ì˜ ë‹¨ì ì„ í”¼í•˜ë©´ì„œ ì•Œê³ ë¦¬ì¦˜ì„ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ

### ğŸ‘ ë‹¨ì ë„ ìˆë‚˜?

- ì½”ë“œê°€ ê¸¸ì–´ì§€ê±°ë‚˜ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì•Œê³ ë¦¬ì¦˜ ê°„ì— í†µì‹  ë¹„ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì•Œê³ ë¦¬ì¦˜ì˜ ì„±ëŠ¥ì´ë‚˜ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



## ì „ëµ íŒ¨í„´ í™œìš©
### ìë°”ì˜ ì „ëµ íŒ¨í„´
> ì‡¼í•‘ ì¹´íŠ¸ì— ì•„ì´í…œì„ ë‹´ì•„ LUNACard ë˜ëŠ” KAKAOCard ë¼ëŠ” ë‘ ê°œì˜ ì „ëµìœ¼ë¡œ ê²°ì œí•˜ëŠ” ì½”ë“œ
```java
import java.text.DecimalFormat;
import java.util.ArrayList;
import java.util.List;
interface PaymentStrategy { 
    public void pay(int amount);
} 

class KAKAOCardStrategy implements PaymentStrategy {
    private String name;
    private String cardNumber;
    private String cvv;
    private String dateOfExpiry;
    
    public KAKAOCardStrategy(String nm, String ccNum, String cvv, String expiryDate){
        this.name=nm;
        this.cardNumber=ccNum;
        this.cvv=cvv;
        this.dateOfExpiry=expiryDate;
    }

    @Override
    public void pay(int amount) {
        System.out.println(amount +" paid using KAKAOCard.");
    }
} 

class LUNACardStrategy implements PaymentStrategy {
    private String emailId;
    private String password;
    
    public LUNACardStrategy(String email, String pwd){
        this.emailId=email;
        this.password=pwd;
    }
    
    @Override
    public void pay(int amount) {
        System.out.println(amount + " paid using LUNACard.");
    }
} 

class Item { 
    private String name;
    private int price; 
    public Item(String name, int cost){
        this.name=name;
        this.price=cost;
    }

    public String getName() {
        return name;
    }

    public int getPrice() {
        return price;
    }
} 

class ShoppingCart { 
    List<Item> items;
    
    public ShoppingCart(){
        this.items=new ArrayList<Item>();
    }
    
    public void addItem(Item item){
        this.items.add(item);
    }
    
    public void removeItem(Item item){
        this.items.remove(item);
    }
    
    public int calculateTotal(){
        int sum = 0;
        for(Item item : items){
            sum += item.getPrice();
        }
        return sum;
    }
    
    public void pay(PaymentStrategy paymentMethod){
        int amount = calculateTotal();
        paymentMethod.pay(amount);
    }
}  

public class HelloWorld{
    public static void main(String []args){
        ShoppingCart cart = new ShoppingCart();
        
        Item A = new Item("kundolA",100);
        Item B = new Item("kundolB",300);
        
        cart.addItem(A);
        cart.addItem(B);
        
        // pay by LUNACard
        cart.pay(new LUNACardStrategy("kundol@example.com", "pukubababo"));
        // pay by KAKAOBank
        cart.pay(new KAKAOCardStrategy("Ju hongchul", "123456789", "123", "12/01"));
    }
}
/*
400 paid using LUNACard.
400 paid using KAKAOCard.
*/
```

### passportì˜ ì „ëµ íŒ¨í„´
> passportëŠ” Node.jsì—ì„œ ì¸ì¦ ëª¨ë“ˆì„ êµ¬í˜„í•  ë•Œ ì“°ëŠ” ë¯¸ë“¤ì›¨ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬<br>
> ì—¬ëŸ¬ê°€ì§€ ì „ëµì„ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦í•  ìˆ˜ ìˆê²Œ í•œë‹¤.
- ì„œë¹„ìŠ¤ ë‚´ì˜ íšŒì›ê°€ì…ëœ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦í•˜ëŠ” localStrategy ì „ëµ
- í˜ì´ìŠ¤ë¶, ë„¤ì´ë²„ ë“± ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦í•˜ëŠ” OAuthì „ëµ ë“±ì„ ì§€ì›í•œë‹¤.

```javascript
var passport = require('passport')
    , LocalStrategy = require('passport-local').Strategy;

passport.use(new LocalStrategy(
    function(username, password, done) {
        User.findOne({ username: username }, function (err, user) {
          if (err) { return done(err); }
            if (!user) {
                return done(null, false, { message: 'Incorrect username.' });
            }
            if (!user.validPassword(password)) {
                return done(null, false, { message: 'Incorrect password.' });
            }
            return done(null, user);
        });
    }
));
```
> passport.use(new LocalStrategy(...ì²˜ëŸ¼ passport.use()ë¼ëŠ” ì „ëµì„ ë§¤ê°œë³€ìˆ˜ë¡œ<br>
> ë„£ì–´ì„œ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.